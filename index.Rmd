---
title: "Assignment 4"
author: "Lucas Fox, Cuong Pham Vu"
date: "2/21/2022"
output: html_document
---

[Annual Survey of Jails 2018](https://www.icpsr.umich.edu/web/NACJD/series/7/studies)

```{r}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(haven)
library(janitor)
library(srvyr)
```

## Assignment 4


```{r}
jail <- read_dta("37392-0001-Data.dta")

jail <- jail %>%
  janitor::clean_names()

jail_svy <- jail %>% 
  as_survey_design(weights = finalwt)

```

## Plot 1

You can also embed plots, for example:

```{r}
jail_svy %>%
  group_by(state) %>%
  mutate(totblack = sum(black),
         statepop = sum(totpop),
         totwhite = sum(white),
         totadmis = sum(admis)) %>%
  mutate(propblack = totblack/statepop) %>%
  ggplot(mapping = aes(x = statepop, y = propblack, label = state)) +
  geom_text()
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
